<sw-widget>
  <sw-widget-header [title]="sticosWidgetOptions.headerName">
    <div buttons class="anomaly-header-button">
      <button class="btn btn-primary anomaly-header-button" text="New" (up)="showForm()">New
      </button>
    </div>
    <div dropdown>
      <li role="menuitem">
        <a class="dropdown-item" (click)="onDeleteWidget()">
          <i class="fal fa-trash-alt"></i> Remove
        </a>
      </li>
    </div>
  </sw-widget-header>
  <sw-widget-body class="body-content">
    <div [ngSwitch]="mod" class="h-100">
      <sw-anomaly-widget-default *ngSwitchCase="'default'">
      </sw-anomaly-widget-default>
    </div>
  </sw-widget-body>
  <sw-widget-footer>
    <div class="text-right">
      <h6 class="footer-mydeviations" (click)="filterAnomailes()">{{!isFiltered ? 'My anomalies' : 'Show all anomalies'}}</h6>
    </div>
  </sw-widget-footer>
</sw-widget>

<dx-popup title="Anomaly settings" maxWidth="600px" height="auto" [(visible)]="popupVisible">
  <div *dxTemplate="let data of 'content'">
    <div class="card">
      <div class="card-body">
        <form [formGroup]="anomalyForm">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="inputDate">Date</label>
                <input type="date" class="form-control" id="input-date" placeholder="Enter date" formControlName="date">
              </div>
              <div class="form-group">
                <label for="inputPlace">Location
                  <span class="required-field">*</span>
                </label>
                <input type="text" class="form-control" id="input-place" placeholder="Enter place" formControlName="location">
              </div>
              <div class="form-group">
                <label for="inputDescription">Description
                  <span class="required-field">*</span>
                </label>
                <input type="text" class="form-control" id="input-description" placeholder="Enter description" formControlName="description">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="inputResponsible">Responsible</label>
                <input type="text" class="form-control" id="input-responsible" placeholder="Enter responsible person" formControlName="responsible">
              </div>
              <div class="form-group">
                <label for="inputDeadline">Deadline
                  <span class="required-field">*</span>
                </label>
                <input type="date" class="form-control" id="input-deadline" placeholder="Enter deadline" formControlName="deadline">
              </div>
              <div class="form-group">
                <label for="inputStatus">Status</label>
                <input type="text" class="form-control" id="input-status" placeholder="Enter status" formControlName="status">
              </div>
            </div>
            <div class="col-md-12">
              <button type="submit" class="btn btn-primary" (click)="saveForm()" [disabled]="anomalyForm.controls.location.invalid || anomalyForm.controls.description.invalid || anomalyForm.controls.deadline.invalid">Save</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</dx-popup>
